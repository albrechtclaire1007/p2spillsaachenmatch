<!DOCTYPE html>
<html lang="lb">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spillsaachen – Lauschter a klick!</title>
  <style>
    @font-face {
      font-family: 'Schoulschreft';
      src: url('https://github.com/albrechtclaire1007/schoulschreft/raw/main/schoulschreft_bold%5B2%5D.TTF') format('truetype');
      font-weight: bold;
    }
    body {
      font-family: 'Schoulschreft', Arial, sans-serif;
      background: linear-gradient(135deg, #d8ebd4 0%, #8cc987 100%);
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
    }
    h1 { text-align: center; color: black; margin-bottom: 10px; }
    .game-container {
      background: white; border-radius: 20px; padding: 20px; max-width: 1000px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.1); display: flex; flex-direction: column; align-items: center; gap: 20px;
    }
    .audio-button {
      background: #8cc987; border: none; border-radius: 50%; width: 70px; height: 70px;
      display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    .audio-button:hover { background: #7ab87a; transform: scale(1.05); }
    .audio-button img { width: 38px; height: 38px; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 15px; width: 100%; }
    .toy-card {
      background: #fff; border-radius: 15px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      transition: all 0.3s ease; cursor: pointer; position: relative;
    }
    .toy-card.flash { border: 4px solid #8cc987; background: #d8ebd4; transition: all 0.3s ease; }
    .toy-card.wrong { border: 4px solid #ff6b6b; background: #ffe0e0; animation: shake 0.4s ease; }
    .toy-card img { width: 100%; height: 120px; object-fit: contain; background: #f8f8f8; }
    @keyframes shake { 0%,100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
    .feedback { font-size: 24px; font-weight: bold; color: #333; text-align: center; min-height: 30px; }
    .success { color: #4CAF50; }
    .finished { font-size: 28px; color: #4CAF50; margin-top: 20px; text-align: center; }
    @media (max-width: 600px) {
      .audio-button { width: 60px; height: 60px; }
      .audio-button img { width: 32px; height: 32px; }
      .toy-card img { height: 100px; }
    }
  </style>
</head>
<body>
  <div class="game-container">
    <h1>Lauschter a klick op déi richteg Spillsaach!</h1>
    <button class="audio-button" id="audioButton" aria-label="Lauschter">
      <img src="https://i.postimg.cc/PqJqqKrv/temp-Imageuq-WDFq.avif" alt="Audio">
    </button>
    <div class="feedback" id="feedback"></div>
    <div class="grid" id="grid"></div>
  </div>

  <audio id="audio" preload="auto"></audio>

  <script>
    const toys = [
      { name: 'Kaartespill', image: 'https://i.postimg.cc/VSxkQyb8/temp-Image2t-Ew-Ew.avif', audio: 'https://github.com/albrechtclaire1007/p1spillsaachen/raw/main/1kaarte.mp3' },
      { name: 'Popp', image: 'https://i.postimg.cc/7CFZ8vTw/temp-Imagee-DSUs6.avif', audio: 'https://github.com/albrechtclaire1007/p1spillsaachen/raw/main/1popp.mp3' },
      { name: 'Péssel', image: 'https://i.postimg.cc/XB3NqwL4/temp-Image-Jgec-Ta.avif', audio: 'https://github.com/albrechtclaire1007/p1spillsaachen/raw/main/1pesel.mp3' },
      { name: 'Trommel', image: 'https://i.postimg.cc/p9wLbNnb/temp-Image-MIU98-V.avif', audio: 'https://github.com/albrechtclaire1007/p1spillsaachen/raw/main/1trommel.mp3' },
      { name: 'Fliger', image: 'https://i.postimg.cc/DW9wkVb3/temp-Image-NAjh-GW.avif', audio: 'https://github.com/albrechtclaire1007/p1spillsaachen/raw/main/1fliger.mp3' },
      { name: 'Teddybier', image: 'https://i.postimg.cc/dkGtJW8B/temp-Imagep2-X0pu.avif', audio: 'https://github.com/albrechtclaire1007/p1spillsaachen/raw/main/teddybier1.mp3' },
      { name: 'Videospill', image: 'https://i.postimg.cc/tZFC9rhF/temp-Image-PC26-QV.avif', audio: 'https://github.com/albrechtclaire1007/p1spillsaachen/raw/main/1video.mp3' },
      { name: 'Ball', image: 'https://i.postimg.cc/G8vhbMkx/temp-Image-SMSSD4.avif', audio: 'https://github.com/albrechtclaire1007/p1spillsaachen/raw/main/1ball.mp3' },
      { name: 'Vëlo', image: 'https://i.postimg.cc/Q9cxj6pq/temp-Imagev-ZAm8p.avif', audio: 'https://github.com/albrechtclaire1007/p1spillsaachen/raw/main/1velo.mp3' },
      { name: 'Radio', image: 'https://i.postimg.cc/xNYj8K5f/temp-Image-W250-J5.avif', audio: 'https://github.com/albrechtclaire1007/p1spillsaachen/raw/main/1radio.mp3' },
      { name: 'Roboter', image: 'https://i.postimg.cc/vxM8TWhR/temp-Image-Xr-Gmf-G.avif', audio: 'https://github.com/albrechtclaire1007/p1spillsaachen/raw/main/1roboter.mp3' },
      { name: 'Wierfel', image: 'https://i.postimg.cc/vxM8TWhy/temp-Image-Zp-G0-TR.avif', audio: 'https://github.com/albrechtclaire1007/p1spillsaachen/raw/main/1wierfel.mp3' }
    ];

    const grid = document.getElementById('grid');
    const feedback = document.getElementById('feedback');
    const audioEl = document.getElementById('audio');
    const audioBtn = document.getElementById('audioButton');

    // shuffle helper
    const shuffle = a => a.sort(() => Math.random() - 0.5);

    // randomize grid layout each load
    function loadGrid() {
      grid.innerHTML = '';
      shuffle([...toys]).forEach(t => {
        const card = document.createElement('div');
        card.className = 'toy-card';
        card.innerHTML = `<img src="${t.image}" alt="${t.name}">`;
        card.addEventListener('click', () => handleChoice(t, card));
        grid.appendChild(card);
      });
    }

    // randomize audio order pool each load
    let remaining = shuffle([...toys]); // shuffled copy
    let current = null;

    function playNextAudio() {
      if (!remaining.length) {
        feedback.textContent = 'Super, du hues alles richteg geléist!';
        feedback.className = 'finished';
        audioBtn.disabled = true;
        return;
      }
      current = remaining.pop(); // follow shuffled order
      audioEl.src = current.audio;
      audioEl.play();
      feedback.textContent = 'Wat hues du héieren?';
      feedback.className = 'feedback';
    }

    function handleChoice(toy, card) {
      if (!current) return;
      if (toy.name === current.name) {
        card.classList.add('flash');
        feedback.textContent = 'Super!';
        feedback.className = 'feedback success';
        setTimeout(() => {
          card.classList.remove('flash');
          playNextAudio();
        }, 800);
      } else {
        card.classList.add('wrong');
        feedback.textContent = 'Nach eng Kéier probéieren!';
        feedback.className = 'feedback';
        setTimeout(() => card.classList.remove('wrong'), 400);
      }
    }

    audioBtn.addEventListener('click', () => {
      if (!remaining.length) return;
      audioEl.currentTime = 0;
      audioEl.play();
    });

    loadGrid();
    playNextAudio();
  </script>
</body>
</html>

